今回は、路線図を念頭においたプログラムを作りました。モデルにしたのは、大阪市営地下鉄です。実家に住んでいたころよく利用していて思い入れがあり、乗り換えなどの様子も個人的にわかりやすかったためです。
特に、与えられた情報を格納して表示、取り出しをしやすいようにすることと、いわゆる「Yahoo!路線」のような、時刻表などに合わせて経路を作成するということが主になっています。
一方で、Lineクラスの対象となるファイルは一応拡張子をdatとしてはいますが、あまり路線図を表示するというようなことは目標にはしていません。というのも、路線図だと、互いの位置関係などが実際の地図を元にある程度決まっており、それを機械によって中途半端に再現するのもどうかと思ったためです。

また、手で打ち込む単純作業はなるべく減らしたかったため、作業を増やすだけでプログラム自体を作ることには特に変化を及ぼさないと判断した以下の点は簡略化しています。
・路線の数はかなり減らしました。
・電車の本数は、かなり雑です。ラッシュも深夜帯も関係なく１時間１本で走っていたりします。上りと下りで本数が違うこともあります。
・電車の駅を行き来する所要時間は、上りも下りも一緒にしています。また、駅に止まっている時間は考慮に入れていません。
・乗り換えの所要時間、駅間の時間は、ある程度現実には則っていますがこちらでテキトーに決めました。


以下、プログラムやその他のファイルの説明に入ります。
細かい作業に関するコメントはプログラム中に書いてあるので、概略をここでは説明します。

まず、拡張子がdatになっているファイルは、各路線の情報が入ったものです。
一行目から路線名、路線記号、駅番号と駅名、となっており、その下には各駅の名前と一番最初の駅からの所要時間が順番に並んでいます。駅番号は先頭の駅から順番に一つずつ大きくなっていくシステムです。なお、大阪市営地下鉄の路線は、大概11から駅番号が入っています。
また、路線記号と駅番号を組み合わせた名称が(外国人に伝える際などに)よく使われるため、駅名の代わりにM11,T23などのように駅を入力する関数がプログラム中にいくつかあります。東京にはそういう文化はあまりなさそうですが。特定の駅を示す際、手で打ち込むのでは11などから始まる駅番号、プログラム内で指定するのでは配列内の番地、というようにしています。(これが最もやりやすいためです。)以下の説明、プログラムのコメントでは、それぞれ「駅番号」「駅の番地」と使い分けています。

次に拡張子がなく、Trainとつくファイルです。これは、各路線における電車を示しています。各行に4つの数字がありますが、左から順に、始発駅の駅番号、終着駅の駅番号、始発駅を発車する時間の時、分、となっています。先にも述べましたが、この時間などはテキトーです。

そして、ファイルtransferは、乗り換えを示します。乗り換え可能駅のペアとその所要時間が各行に書かれています。

次にプログラムそのものに移ります。
Stationクラスには各駅の情報が入ります。路線や駅名、乗り換えや時刻表など。
関数としては、showBoard()があります。@boardUp,@boardDownの情報をもとに、
・電車の出る時間
・電車が当駅発かどうか(当駅発の電車なら座れるので...)
・電車がその路線の最後まで行かない場合は終着駅
を表示します。

TrainQueueクラスは、線路とセットになっているものです。路線が作られた際、その要請を受けて、その路線にどのような電車があるかをTrainとつくファイルの情報をもとに配列として入れていきます。@tUp,@tDownで、どちら向きの電車かを分けています。また、この配列は併合整列法で整列がかけられソートリストになっています。電車の早さの順に格納しています。関数としてはadd(train)があります。電車をもっと走らせたいなという場合に使います。上りと下りの本数などは気にしていないので、ここでも考慮しないことにします。

Trainクラスは、Trainとつくファイルの情報を一つずつ格納するためのものです。@speedが電車の早さを示します。TrainQueueの要請を受けて大量にオブジェクトが作られます。ここでは、<=>を定義して扱いやすいようにしています。

Lineクラスは、路線を定義するためのものです。initializeがやや面倒です。@stationsや@trainsで、駅や電車のオブジェクトを作ります。この際にTrainオブジェクトの情報をもとにStationクラスのオブジェクトに時刻表の情報を格納しています。@graphは、その電車が所属する路線図です。初期値nilなのは、路線を単体で作りたいときのためです。また、駅の指定において、駅番号を番地に直したりその逆をする作業が多いので、その作業を単純化するためのものとして@sizeや@firstがあります。

LineGraphクラスがメインとなる部分です。@linesに複数の路線を格納した路線図となっています。ここで初めて、乗り換え情報が登録されます。connectTransがそれを請け負っています。授業でやったconnectに似ており、重みつき無向グラフとでもいうような登録方法になっています。同じ駅名ならつなぐ、みたいなのでもいいのですが、別の名前でも乗り換えができてしまう組み合わせもあるので。関数convertは、路線記号と駅番号を路線・駅の番地に直すためのものです。
travとその中に入っている関数が、今回最も時間をかけたところになります。時刻表をもとに最短経路を探索するものです。最短経路探索とはいっても、乗り換えという概念があるため、授業でやったものとはかなり異なっているかと思います。useUpTrainとuseDownTrainでひたすら両方面の線路を探索していきます。スタートとゴールが同じ場合、歩いて始まったり最後が歩いて終わる場合などに変なことにならないようするのが大変でした。また、終電がない場合は、ひたすらuseUpTrainとuseUpDownにfalseを出させて電車なしと表示することにしました。翌日までまたぐと、NowPointクラスのarriveSpeedなどの関係で日付の概念を導入する必要があり、平日と土日の時刻表を作るのも面倒だしその場合はいいか、と思ったことによります。NowPointの説明はあとで。
useUpTrain,useDownTrainはtransの中身で、毎度乗る電車や乗り換えを指定して@fmapと@pqに放り込みます。なお、乗り換えと目的地以外はただ通り過ぎるのみだという観点から、このような点は無視して@fmapを書き換えています。
traceは遡るための関数です。commentsに文を挿入して、時系列の表示になるようにしています。
travBackは逆に到着時刻を指定するものです。こちらではBackNowPointを用いています。基本的に逆の作業をするわけですが、その際にいろいろ考えた結果、BackNowPointという別のクラスを用意すれば、同じPriorityQueueクラスを用いつつ時間を遡る作業ができました。ただ、遡ったあとは、travをやっています。というのも、時刻表の組み合わせによっては、出発時間が同じでももっと早く着くことがあるので。このさい495行目ではバグを防ぎつつtravと同じ結果になるようにしています。
backUpTrain,backDownTrainは、useUpTrain,useDownTrainと同様の役目を果たします。
travTransTimeは、乗り換えの回数をなるべく少なくしたいときのものです。NowPointTransという新たなクラスをさらに用意しました。NowPointに比べ、transTimeが引数に加わっています。これについてはあとで説明します。ちなみに実行結果は、例えば大日→東梅田→梅田は、二つ目の矢印が徒歩ですがそこから電車に乗るわけでなく乗り換えではないと考えたいため、乗り換え0回にしました。
useUpTransとuseDownTransも今までと同様の働きをします。
traceTransは、transでもよかったのですが、折角なので乗り換え回数も書いてしまおうというものです。変数tが乗り換え回数を示すことになります。

NowPointは、現在地と時刻を示します。ただし、このNowPointには2通りのものがあります。tが指定されていないものは、単に現在の点や時刻を示しており、@pqのヒープ木やrecordに入れられます。tが指定されたものは、現在の点や時刻だけでなく、次の目的地に行く際の時間を示しており、@fmapに入れられます。この2つ目のパターンにより、@fmapを遡る際に所要時間などを表示できるようになるのです。前者は不等号で、後者は@arriveSpeedで比較が為されます。

BackNowPointは、tがなければ現在地と時刻を、tがあれば加えてその地点に来る前にいた地点を示します。@leaveSpeedを@arriveSpeedと似たように設定しているほか、ヒープ計算のため不等号を逆にしています。

NowPointTransは、乗り換えのためのものです。transTimeが加わり、不等号などの計算にtransTimeが入ってきています。ただし、TransTimeは、その時点で電車に乗った回数を示しています。つまり、乗り換え+1です。また、tが指定されている場合は、一つ先の点に行った後の電車に乗った回数となっています。単純にこうするとやりやすかったからです。

PriorityQueueは、基本的にはヒープ木です。point系のクラスが中に詰め込まれることになります。一つ、新たに変数recordが加わっています。これは、現在最も適当なpointを保存するためのものでrewrite(point)で書き換えのための比較ができます。無駄な作業の省略のためのものです。

ちなみに、金額もやろうかとおもったのですが、手打ちでの金額の登録があまりに面倒で、その割に時間の計算とアルゴリズムが全くといっていいほど同じなので、やめておきました。

以下、いろいろな実行結果の一例です。

irb(main):001:0> load("final.rb")
=> true




irb(main):150:0> l= Line.new("tanimachi.dat")
=> #<Line:0x007ffbd300cae0 @graph=nil, @name="谷町線", @id="T", @stations=[#<Station:0x007ffbd300c770 @name="大日", @line=#<Line:0x007ffbd300cae0 ...>, @number=11, @boardUp=[[], [], [], [], [[59, 0, 25]], [[49, 0, 25]], [[30, 0, 25]], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []], @boardDown=[[], [], [], [], [], [[54, 25, 0]], [[5, 25, 0], [16, 25, 0], [26, 25, 0], [36, 25, 0], [46, 25, 0], [56, 25, 0]], [[5, 25, 0], [11, 25, 0], [18, 25, 0], [24, 25, 0], [30, 25, 0], [36, 25, 0], [41, 25, 0], [47, 25, 0], [51, 25, 0], [56, 25, 0]], [[0, 25, 0], [5, 25, 0], [11, 25, 0], [16, 25, 0], [22, 25, 0], [26, 25, 0], [32, 25, 0], [37, 25, 0], [41, 25, 0], [47, 25, 0], [52, 25, 0], [57, 25, 0]], [[2, 25, 0], [8, 25, 0], [21, 25, 0], [43, 25, 0], [56, 25, 0]], [[4, 25, 0], [19, 25, 0], [33, 25, 0], [47, 25, 0]], [[2, 25, 0], [17, 25, 0], [32, 25, 0], [47, 25, 0]], [[9, 25, 0], [32, 25, 0], [47, 25, 0]], [[9, 25, 0], [39, 25, 0]], [[9, 25, 0], [39, 25, 0]], [[9, 25, 0]], [[28, 25, 0]], [[15, 25, 0], [42, 25, 0]], [[14, 25, 0], [45, 25, 0]], [[6, 25, 0], [40, 25, 0]], [[8, 25, 0], [38, 25, 0]], [[38, 25, 0], [44, 18, 0], [54, 18, 0]], [[4, 18, 0], [16, 25, 0], [50, 25, 0]], [[10, 25, 0], [30, 25, 0], [49, 25, 0]], [[7, 25, 0], [27, 25, 0]]], @trans=[]>, #<Station:0x007ffbd3007b80 @name="守口", @line=#<Line:0x007ffbd300cae0 ...>, @number=12, @boardUp=[[], [], [], [], [], [[1, 0, 25], [51, 0, 25]], [[32, 0, 25]], [], [], [], [], [], [], [], [], [[56, 1, 25]], [], [], [], [], [], [], [], [], []], @boardDown=[[], [], [], [], [], [[52, 25, 0]], [[3, 25, 0], [14, 25, 0], [24, 25, 0], [34, 25, 0], [44, 25, 0], [54, 25, 0]], [[3, 25, 0], [9, 25, 0], [16, 25, 0], [22, 25, 0], [28, 25, 0], [34, 25, 0], [39, 25, 0], [45, 25, 0], [49, 25, 0], [54, 25, 0], [58, 25, 0]], [[3, 25, 0], [9, 25, 0], [14, 25, 0], [20, 25, 0], [24, 25, 0], [30, 25, 0], [35, 25, 0], [39, 25, 0], [45, 25, 0], [50, 25, 0], [55, 25, 0]], [[0, 25, 0], [6, 25, 0], [19, 25, 0], [41, 25, 0], [54, 25, 0]], [[2, 25, 0], [17, 25, 0], [31, 25, 0], [45, 25, 0]], [[0, 25, 0], [15, 25, 0], [30, 25, 0], [45, 25, 0]], [[7, 25, 0], [30, 25, 0], [45, 25, 0]], [[7, 25, 0], [37, 25, 0]], [[7, 25, 0], [37, 25, 0]], [[7, 25, 0]], [[26, 25, 0]], [[13, 25, 0], [40, 25, 0]], [[12, 25, 0], [43, 25, 0]], [[4, 25, 0], [38, 25, 0]], [[6, 25, 0], [36, 25, 0]], [[36, 25, 0], [42, 18, 0], [52, 18, 0]], [[2, 18, 0], [14, 25, 0], [48, 25, 0]], [[8, 25, 0], [28, 25, 0], [47, 25, 0]], [[5, 25, 0], [25, 25, 0]]], @trans=[]>, #<Station:0x007ffbd3006ff0 @name="太子橋今市", @line=#<Line:0x007ffbd300cae0 ...>, @number=13, @boardUp=[[], [], [], [], [], [[4, 0, 25], [54, 0, 25]], [[35, 0, 25]], [], [], [], [], [], [], [], [], [[59, 1, 25]], [], [], [], [], [], [], [], [], []], @boardDown=[[], [], [], [], [], [[49, 25, 0]], [[0, 25, 0], [11, 25, 0], [21, 25, 0], [31, 25, 0], [41, 25, 0], [51, 25, 0]], [[0, 25, 0], [6, 25, 0], [13, 25, 0], [19, 25, 0], [25, 25, 0], [31, 25, 0], [36, 25, 0], [42, 25, 0], [46, 25, 0], [51, 25, 0], [55, 25, 0]], [[0, 25, 0], [6, 25, 0], [11, 25, 0], [17, 25, 0], [21, 25, 0], [27, 25, 0], [32, 25, 0], [36, 25, 0], [42, 25, 0], [47, 25, 0], [52, 25, 0], [57, 25, 0]], [[3, 25, 0], [16, 25, 0], [38, 25, 0], [51, 25, 0], [59, 25, 0]], [[14, 25, 0], [28, 25, 0], [42, 25, 0], [57, 25, 0]], [[12, 25, 0], [27, 25, 0], [42, 25, 0]], [[4, 25, 0], [27, 25, 0], [42, 25, 0]], [[4, 25, 0], [34, 25, 0]], [[4, 25, 0], [34, 25, 0]], [[4, 25, 0]], [[23, 25, 0]], [[10, 25, 0], [37, 25, 0]], [[9, 25, 0], [40, 25, 0]], [[1, 25, 0], [35, 25, 0]], [[3, 25, 0], [33, 25, 0]], [[33, 25, 0], [39, 18, 0], [49, 18, 0], [59, 18, 0]], [[11, 25, 0], [45, 25, 0]], [[5, 25, 0], [25, 25, 0], [44, 25, 0]], [[2, 25, 0], [22, 25, 0]]], @trans=[]>, #<Station:0x007ffbd30064b0 @name="千林大宮", @line=#<Line:0x007ffbd300cae0 ...>, @number=14, @boardUp=[[], [], [], [], [], [[6, 0, 25], [56, 0, 25]], [[37, 0, 25]], [], [], [], [], [], [], [], [], [], [[1, 1, 25]], [], [], [], [], [], [], [], []], @boardDown=[[], [], [], [], [], [[47, 25, 0], [58, 25, 0]], [[9, 25, 0], [19, 25, 0], [29, 25, 0], [39, 25, 0], [49, 25, 0], [58, 25, 0]], [[4, 25, 0], [11, 25, 0], [17, 25, 0], [23, 25, 0], [29, 25, 0], [34, 25, 0], [40, 25, 0], [44, 25, 0], [49, 25, 0], [53, 25, 0], [58, 25, 0]], [[4, 25, 0], [9, 25, 0], [15, 25, 0], [19, 25, 0], [25, 25, 0], [30, 25, 0], [34, 25, 0], [40, 25, 0], [45, 25, 0], [50, 25, 0], [55, 25, 0]], [[1, 25, 0], [14, 25, 0], [36, 25, 0], [49, 25, 0], [57, 25, 0]], [[12, 25, 0], [26, 25, 0], [40, 25, 0], [55, 25, 0]], [[10, 25, 0], [25, 25, 0], [40, 25, 0]], [[2, 25, 0], [25, 25, 0], [40, 25, 0]], [[2, 25, 0], [32, 25, 0]], [[2, 25, 0], [32, 25, 0]], [[2, 25, 0]], [[21, 25, 0]], [[8, 25, 0], [35, 25, 0]], [[7, 25, 0], [38, 25, 0], [59, 25, 0]], [[33, 25, 0]], [[1, 25, 0], [31, 25, 0]], [[31, 25, 0], [37, 18, 0], [47, 18, 0], [57, 18, 0]], [[9, 25, 0], [43, 25, 0]], [[3, 25, 0], [23,
(長すぎるので省略)

irb(main):151:0> l.stations[8].showBoard()
八尾南行き
0   
1   
2   
3   
4   
5    15
6    5 46
7    3(喜連瓜破) 5(喜連瓜破) 56
8    0(喜連瓜破) 11(文の里) 37(喜連瓜破) 43(喜連瓜破) 47 53
9    3(喜連瓜破) 24
10    8
11    1 53
12    31
13    46
14    38
15   
16    10
17    20 22(文の里) 42(喜連瓜破)
18    0(文の里) 2 17(文の里) 44
19    50(文の里) 52
20    40(文の里)
21    30(文の里)
22    2 49
23    39
24   

大日行き
0   
1   
2   
3   
4   
5    38 49
6    0 10 20 30 40 49 55
7    2 8 14 20 25 31 35 40 44 46(都島) 49 55
8    0 6 10 16 21 25 31 36 41 46 52 55(都島)
9    2(都島) 5 17(都島) 27 31(都島) 37(都島) 40 48 52(都島)
10    3 17 31 46
11    1 16 31 53
12    16 31 53
13    23 53
14    23 53
15   
16    12 59
17    26 37(都島) 50(都島) 58
18    2(都島) 14(都島) 26(都島) 29 40(都島) 47(都島) 50 54(都島)
19    11(都島) 24 28(都島) 36(都島) 47(都島) 52 57(都島)
20    7(都島) 17(都島) 22 27(都島) 37(都島) 47(都島) 57(都島)
21    7(都島) 17(都島) 22 28 38 48
22    0 34 54
23    14 33 51
24    11
★は当駅発
=> nil













irb(main):003:0> a = ["tanimachi.dat", "midosuji.dat", "yotsubashi.dat", "nagahoritsurumiryokuti.dat", "chuou.dat"]
=> ["tanimachi.dat", "midosuji.dat", "yotsubashi.dat", "nagahoritsurumiryokuti.dat", "chuou.dat"]
irb(main):004:0> lg = LineGraph.new(a, "transfer")
=> #<LineGraph:0x007ffbd1823028 @lines=[#<Line:0x007ffbd1822fb0 @graph=#<LineGraph:0x007ffbd1823028 ...>, @name="谷町線", @id="T", @stations=[#<Station:0x007ffbd1822cb8 @name="大日", @line=#<Line:0x007ffbd1822fb0 ...>, @number=11, @boardUp=[[], [], [], [], [[59, 0, 25]], [[49, 0, 25]], [[30, 0, 25]], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []], @boardDown=[[], [], [], [], [], [[54, 25, 0]], [[5, 25, 0], [16, 25, 0], [26, 25, 0], [36, 25, 0], [46, 25, 0], [56, 25, 0]], [[5, 25, 0], [11, 25, 0], [18, 25, 0], [24, 25, 0], [30, 25, 0], [36, 25, 0], [41, 25, 0], [47, 25, 0], [51, 25, 0], [56, 25, 0]], [[0, 25, 0], [5, 25, 0], [11, 25, 0], [16, 25, 0], [22, 25, 0], [26, 25, 0], [32, 25, 0], [37, 25, 0], [41, 25, 0], [47, 25, 0], [52, 25, 0], [57, 25, 0]], [[2, 25, 0], [8, 25, 0], [21, 25, 0], [43, 25, 0], [56, 25, 0]], [[4, 25, 0], [19, 25, 0], [33, 25, 0], [47, 25, 0]], [[2, 25, 0], [17, 25, 0], [32, 25, 0], [47, 25, 0]], [[9, 25, 0], [32, 25, 0], [47, 25, 0]], [[9, 25, 0], [39, 25, 0]], [[9, 25, 0], [39, 25, 0]], [[9, 25, 0]], [[28, 25, 0]], [[15, 25, 0], [42, 25, 0]], [[14, 25, 0], [45, 25, 0]], [[6, 25, 0], [40, 25, 0]], [[8, 25, 0], [38, 25, 0]], [[38, 25, 0], [44, 18, 0], [54, 18, 0]], [[4, 18, 0], [16, 25, 0], [50, 25, 0]], [[10, 25, 0], [30, 25, 0], [49, 25, 0]], [[7, 25, 0], [27, 25, 0]]], @trans=[]>, #<Station:0x007ffbd18222e0 @name="守口", @line=#<Line:0x007ffbd1822fb0 ...>, @number=12, @boardUp=[[], [], [], [], [], [[1, 0, 25], [51, 0, 25]], [[32, 0, 25]], [], [], [], [], [], [], [], [], [[56, 1, 25]], [], [], [], [], [], [], [], [], []], @boardDown=[[], [], [], [], [], [[52, 25, 0]], [[3, 25, 0], [14, 25, 0], [24, 25, 0], [34, 25, 0], [44, 25, 0], [54, 25, 0]], [[3, 25, 0], [9, 25, 0], [16, 25, 0], [22, 25, 0], [28, 25, 0], [34, 25, 0], [39, 25, 0], [45, 25, 0], [49, 25, 0], [54, 25, 0], [58, 25, 0]], [[3, 25, 0], [9, 25, 0], [14, 25, 0], [20, 25, 0], [24, 25, 0], [30, 25, 0], [35, 25, 0], [39, 25, 0], [45, 25, 0], [50, 25, 0], [55, 25, 0]], [[0, 25, 0], [6, 25, 0], [19, 25, 0], [41, 25, 0], [54, 25, 0]], [[2, 25, 0], [17, 25, 0], [31, 25, 0], [45, 25, 0]], [[0, 25, 0], [15, 25, 0], [30, 25, 0], [45, 25, 0]], [[7, 25, 0], [30, 25, 0], [45, 25, 0]], [[7, 25, 0], [37, 25, 0]], [[7, 25, 0], [37, 25, 0]], [[7, 25, 0]], [[26, 25, 0]], [[13, 25, 0], [40, 25, 0]], [[12, 25, 0], [43, 25, 0]], [[4, 25, 0], [38, 25, 0]], [[6, 25, 0], [36, 25, 0]], [[36, 25, 0], [42, 18, 0], [52, 18, 0]], [[2, 18, 0], [14, 25, 0], [48, 25, 0]], [[8, 25, 0], [28, 25, 0], [47, 25, 0]], [[5, 25, 0], [25, 25, 0]]], @trans=[]>, #<Station:0x007ffbd1821980 @name="太子橋今市", @line=#<Line:0x00

(あまりに長いので省略)

irb(main):082:0> lg.trav("Y13","T30",3,8)
四ツ橋線本町駅を西梅田方面の3時30分発の電車で出発します。
西梅田駅に3時34分に着きます。
四ツ橋線西梅田駅から3時34分に歩き始めます。
谷町線東梅田駅に3時44分に着きます。
谷町線東梅田駅を八尾南方面の5時17分発の電車で出発します。
田辺駅に5時39分に着きます。
到着です。
=> nil
irb(main):083:0> lg.trav("C19","M15",3,8)
中央線森ノ宮駅をコスモスクエア方面の3時31分発の電車で出発します。
本町駅に3時36分に着きます。
中央線本町駅から3時36分に歩き始めます。
御堂筋線本町駅に3時39分に着きます。
御堂筋線本町駅を千里中央方面の3時48分発の電車で出発します。
中津駅に3時55分に着きます。
到着です。
=> nil
irb(main):084:0> lg.travBack("C19","Y15",3,8)
当日中の出発ではその時間には着けません。=> nil
irb(main):085:0> lg.travBack("N19","M16",12,0)
長堀鶴見緑地線玉造駅を大正方面の11時37分発の電車で出発します。
心斎橋駅に11時46分に着きます。
長堀鶴見緑地線心斎橋駅から11時46分に歩き始めます。
御堂筋線心斎橋駅に11時49分に着きます。
御堂筋線心斎橋駅を千里中央方面の13時11分発の電車で出発します。
梅田駅に13時18分に着きます。
到着です。
=> nil
irb(main):104:0> lg.travTransTime("T23","M16",14,0)
0回乗り換えです。
谷町線谷町四丁目駅を大日方面の14時14分発の電車で出発します。
東梅田駅に14時21分に着きます。
谷町線東梅田駅から14時21分に歩き始めます。
御堂筋線梅田駅に14時27分に着きます。
到着です。
=> nil
